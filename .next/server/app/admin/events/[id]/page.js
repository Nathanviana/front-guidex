(()=>{var e={};e.id=340,e.ids=[340],e.modules={957:(e,t,s)=>{Promise.resolve().then(s.bind(s,21434))},2794:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var a=s(37413),r=s(21434);function n({params:e,searchParams:t}){return(0,a.jsx)(r.default,{id:e.id})}},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},5336:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8819:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21434:(e,t,s)=>{"use strict";s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\viana\\\\Desktop\\\\01- Projetos\\\\trabalho-wilys\\\\front-guidex\\\\src\\\\app\\\\admin\\\\events\\\\[id]\\\\EditEventClient.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\viana\\Desktop\\01- Projetos\\trabalho-wilys\\front-guidex\\src\\app\\admin\\events\\[id]\\EditEventClient.tsx","default")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},28559:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34729:(e,t,s)=>{"use strict";s.d(t,{T:()=>n});var a=s(60687);s(43210);var r=s(4780);function n({className:e,...t}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},61409:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=s(65239),r=s(48088),n=s(88170),i=s.n(n),d=s(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o={children:["",{children:["admin",{children:["events",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2794)),"C:\\Users\\viana\\Desktop\\01- Projetos\\trabalho-wilys\\front-guidex\\src\\app\\admin\\events\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,99111)),"C:\\Users\\viana\\Desktop\\01- Projetos\\trabalho-wilys\\front-guidex\\src\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"C:\\Users\\viana\\Desktop\\01- Projetos\\trabalho-wilys\\front-guidex\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\viana\\Desktop\\01- Projetos\\trabalho-wilys\\front-guidex\\src\\app\\admin\\events\\[id]\\page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/admin/events/[id]/page",pathname:"/admin/events/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78148:(e,t,s)=>{"use strict";s.d(t,{b:()=>d});var a=s(43210),r=s(14163),n=s(60687),i=a.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var d=i},79551:e=>{"use strict";e.exports=require("url")},80013:(e,t,s)=>{"use strict";s.d(t,{J:()=>i});var a=s(60687);s(43210);var r=s(78148),n=s(4780);function i({className:e,...t}){return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},81630:e=>{"use strict";e.exports=require("http")},87453:(e,t,s)=>{Promise.resolve().then(s.bind(s,99061))},89667:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(60687);s(43210);var r=s(4780);function n({className:e,type:t,...s}){return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}},91821:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>d,TN:()=>l});var a=s(60687);s(43210);var r=s(24224),n=s(4780);let i=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...s}){return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:t}),e),...s})}function l({className:e,...t}){return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}},93613:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},94735:e=>{"use strict";e.exports=require("events")},96362:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},97992:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(62688).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},99061:(e,t,s)=>{"use strict";s.d(t,{default:()=>y});var a=s(60687),r=s(43210),n=s(16189),i=s(29523),d=s(44493),l=s(89667),o=s(80013),c=s(34729),u=s(28559),p=s(40228);let x=(0,s(62688).A)("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var m=s(97992),h=s(96362),v=s(8819),g=s(91821),f=s(93613),j=s(5336),b=s(50181);function y({id:e}){let t=(0,n.useRouter)(),[s,y]=(0,r.useState)(""),[N,w]=(0,r.useState)(""),[D,k]=(0,r.useState)(!1),[A,P]=(0,r.useState)(!0),[E,C]=(0,r.useState)(null),[q,S]=(0,r.useState)({name:"",description:"",startDate:"",endDate:"",location:""}),M=(e,t)=>{S(s=>({...s,[e]:t}))},_=async s=>{if(s.preventDefault(),y(""),w(""),k(!0),!q.name||!q.description||!q.startDate||!q.endDate||!q.location){y("All fields are required"),k(!1);return}let a=new Date(q.startDate);if(new Date(q.endDate)<=a){y("End date must be after start date"),k(!1);return}try{let s={...q,startDate:new Date(q.startDate).toISOString(),endDate:new Date(q.endDate).toISOString()},a=await b.A.put(`/events/${e}`,s);200===a.status&&(w("Event updated successfully!"),E&&C({...E,...s,updatedAt:new Date().toISOString()}),setTimeout(()=>{t.push("/admin/events")},1500))}catch(e){console.error("Error updating event:",e),e.response?.data?.message?y(e.response.data.message):e.response?.status===400?y("Invalid data provided. Please check your inputs."):e.response?.status===404?y("Event not found."):e.response?.status===500?y("Server error. Please try again later."):y("Failed to update event. Please try again.")}finally{k(!1)}},F=async()=>{if(window.confirm("Are you sure you want to delete this event? This action cannot be undone.")){k(!0),y("");try{await b.A.delete(`/events/${e}`),t.push("/admin/events")}catch(e){console.error("Error deleting event:",e),e.response?.status===404?y("Event not found."):y("Failed to delete event. Please try again."),k(!1)}}};return A?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.$,{variant:"outline",size:"icon",onClick:()=>t.push("/admin/events"),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Event"})]}),(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}),(0,a.jsx)("span",{children:"Loading event data..."})]})})]}):s&&!E?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.$,{variant:"outline",size:"icon",onClick:()=>t.push("/admin/events"),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Event"})]}),(0,a.jsxs)(g.Fc,{variant:"destructive",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)(g.TN,{children:s})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(i.$,{variant:"outline",size:"icon",onClick:()=>t.push("/admin/events"),children:(0,a.jsx)(u.A,{className:"h-4 w-4"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Event"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)(d.Zp,{className:"lg:col-span-1",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsxs)(d.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Event Info"]}),(0,a.jsx)(d.BT,{children:"Current event details"})]}),(0,a.jsx)(d.Wu,{className:"space-y-4",children:E&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"ID"}),(0,a.jsx)("p",{className:"text-sm",children:E.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(x,{className:"h-3 w-3"}),"Duration"]}),(0,a.jsx)("p",{className:"text-sm",children:((e,t)=>{let s=new Date(e),a=Math.round((new Date(t).getTime()-s.getTime())/36e5);if(a<24)return`${a} hour${1!==a?"s":""}`;{let e=Math.floor(a/24),t=a%24;return`${e} day${1!==e?"s":""}${t>0?` ${t} hour${1!==t?"s":""}`:""}`}})(E.startDate,E.endDate)})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm font-medium text-muted-foreground flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"h-3 w-3"}),"Location"]}),(0,a.jsx)("p",{className:"text-sm",children:E.location})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),(0,a.jsx)("p",{className:"text-sm",children:new Date(E.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Updated"}),(0,a.jsx)("p",{className:"text-sm",children:new Date(E.updatedAt).toLocaleDateString()})]})]})})]}),(0,a.jsxs)(d.Zp,{className:"lg:col-span-2",children:[(0,a.jsxs)(d.aR,{children:[(0,a.jsx)(d.ZB,{children:"Edit Event"}),(0,a.jsx)(d.BT,{children:"Update the event information"})]}),(0,a.jsxs)("form",{onSubmit:_,children:[(0,a.jsxs)(d.Wu,{className:"space-y-6",children:[s&&(0,a.jsxs)(g.Fc,{variant:"destructive",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)(g.TN,{children:s})]}),N&&(0,a.jsxs)(g.Fc,{className:"border-green-200 bg-green-50",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-green-600"}),(0,a.jsx)(g.TN,{className:"text-green-800",children:N})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"name",children:["Event Name ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.p,{id:"name",placeholder:"Welcome Party for New Students",value:q.name,onChange:e=>M("name",e.target.value),required:!0,disabled:D})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"description",children:["Description ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(c.T,{id:"description",placeholder:"Join us for an exciting welcome party where new students can meet each other and learn about campus life...",value:q.description,onChange:e=>M("description",e.target.value),required:!0,disabled:D,rows:4}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Provide a detailed description of the event, including activities and what attendees can expect."})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"startDate",children:["Start Date & Time ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.p,{id:"startDate",type:"datetime-local",value:q.startDate,onChange:e=>M("startDate",e.target.value),required:!0,disabled:D})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"endDate",children:["End Date & Time ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.p,{id:"endDate",type:"datetime-local",value:q.endDate,onChange:e=>M("endDate",e.target.value),required:!0,disabled:D})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(o.J,{htmlFor:"location",children:["Location ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)(l.p,{id:"location",placeholder:"University Main Hall, Building A, Room 101",value:q.location,onChange:e=>M("location",e.target.value),required:!0,disabled:D}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Specify the exact location where the event will take place."})]}),q.name&&q.startDate&&q.endDate&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-muted/50 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Updated Event Preview"}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Event:"})," ",q.name]}),q.startDate&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Start:"})," ",new Date(q.startDate).toLocaleString()]}),q.endDate&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"End:"})," ",new Date(q.endDate).toLocaleString()]}),q.location&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Location:"})," ",q.location]}),q.startDate&&q.endDate&&(0,a.jsxs)("p",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Duration:"})," ",Math.round((new Date(q.endDate).getTime()-new Date(q.startDate).getTime())/36e5)," ","hours"]})]})]})]}),(0,a.jsxs)(d.wL,{className:"flex justify-between",children:[(0,a.jsx)(i.$,{variant:"destructive",type:"button",onClick:F,disabled:D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),"Deleting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Delete"]})}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.$,{variant:"outline",type:"button",onClick:()=>t.push("/admin/events"),disabled:D,children:"Cancel"}),(0,a.jsx)(i.$,{type:"submit",disabled:D,children:D?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-foreground"}),"Updating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Update Event"]})})]})]})]})]})]})]})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[447,825,711,959,19,557,994],()=>s(61409));module.exports=a})();